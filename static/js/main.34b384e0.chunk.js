(this["webpackJsonppage-builder"]=this["webpackJsonppage-builder"]||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(16),r=a.n(i),l=(a(94),a(95),a(96),a(69)),s=a(47),c=a(41),d=a(70),u=a(71),p=a(89),g=a(86),h=(a(97),a(115)),f=a(116),b=a(114),m=a(117),S=a(56),v=a(65),j=(0,a(65).createSelector)([function(e){return e.savedState}],(function(e){return e.currentSavedState})),y=a(48),D=a(8),x=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.savedState;n.props.savedState&&n.setState(Object(c.a)({},e))},n.showModal=function(e){var t=n.state,a=t.toShowModal,o=t.draggedDivRepeat,i=!!a,r=e.pageX,l=e.pageY;n.setState({tempEvent:e,modalVisible:i,modalX:r,modalY:l},(function(){o&&n.onDrop(e,"complete")}))},n.handleOk=function(){var e=n.state,t=e.modalName,a=e.modalFontSize,o=e.modalFontWeight,i=e.tempEvent;""!==t.trim()&&""!==String(a).trim()&&""!==String(o)?n.setState({modalVisible:!1,modalName:t,modalFontSize:a,modalFontWeight:o,tempEvent:null},(function(){n.onDrop(i,"complete")})):alert("Please fill in all the details")},n.handleCancel=function(){n.setState({modalVisible:!1})},n.onDragStart=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!a;a&&(e.dataTransfer.setData("id",t),e.dataTransfer.setData("repeat",a)),n.setState({draggedDivId:t,draggedDivRepeat:a,toShowModal:o})},n.onDragOver=function(e){e.preventDefault()},n.handleChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(s.a)({},o,a))},n.onDrop=function(e,t){var a,o,i=n.props.setCurrentSavedState;e.dataTransfer.getData("repeat")?(a="true"===e.dataTransfer.getData("repeat"),o=e.dataTransfer.getData("id")):(a=n.state.draggedDivRepeat,o=n.state.draggedDivId);var r=null,s=n.state,c=s.counter,d=s.inputValues,u=s.modalName,p=s.modalFontSize,g=s.modalFontWeight;if(c++,"complete"===t&&!a){r=(r=n.state.tasks).find((function(e){return e.key===o})),(r=JSON.parse(JSON.stringify(r))).key=r.key+"-"+c,d.push({key:r.key,value:""}),r.category=t,r.selected=!1,r.positionx=e.pageX,r.positiony=e.pageY,r.name=u,r.fontSize=p,r.fontWeight=g;var h=n.state.placed;r=[r].concat(Object(l.a)(h))}if(a){var f=n.state.placed;(r=f.find((function(e){return e.key===o}))).category=t,r.positionx=e.pageX,r.positiony=e.pageY,r=Object(l.a)(f)}n.setState({placed:r,counter:c,inputValues:d,toShowModal:!1,modalName:"",modalFontSize:"",modalFontWeight:""},(function(){var e=n.state;i(e)}))},n.handleInputChange=function(e,t){var a=e.target.value,o=n.state.inputValues.filter((function(e){return e.key===t&&(e.value=a),e}));n.setState({inputValues:o})},n.handleClick=function(e){var t=n.state.placed.filter((function(t){return t.key===e&&(t.selected=!t.selected),t}));n.setState({placed:t})},n.handleDelete=function(e){if(46===parseInt(e.keyCode)){var t=n.props.setCurrentSavedState,a=n.state.placed.filter((function(e){return e.selected?null:e}));n.setState({placed:a},(function(){var e=n.state;t(e)}))}},n.state={tasks:[{key:"label",name:"This is a Label",category:"wip",positionx:null,positiony:null,type:"label"},{key:"input",name:"This is an Input",category:"wip",positionx:null,positiony:null,type:"input"},{key:"button",name:"This is a Button",category:"wip",positionx:null,positiony:null,type:"button"}],placed:[],inputValues:[],counter:0,modalVisible:!1,modalName:"",modalFontSize:"",modalFontWeight:"",tempEvent:null,draggedDivId:"",draggedDivRepeat:"",toShowModal:!1,modalX:"",modalY:""},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t={complete:[]},a=this.state,n=a.inputValues,o=a.modalX,i=a.modalY,r=a.modalName,l=a.modalFontSize,s=a.modalFontWeight;return this.state.placed.length>0&&this.state.placed.forEach((function(a){"label"===a.type?t.complete.push(Object(D.jsx)("div",{onDragStart:function(t){return e.onDragStart(t,a.key,!0)},draggable:!0,className:a.selected?"draggable selected":"draggable",onClick:function(){e.handleClick(a.key)},style:{position:"absolute",top:a.positiony-50+"px",left:a.positionx-160+"px",fontSize:a.fontSize+"px",fontWeight:a.fontWeight},children:a.name},a.key)):"input"===a.type?t.complete.push(Object(D.jsx)("input",{onDragStart:function(t){return e.onDragStart(t,a.key,!0)},onClick:function(){e.handleClick(a.key)},draggable:!0,className:a.selected?"draggable selected":"draggable",placeholder:a.name,style:{position:"absolute",top:a.positiony-50+"px",left:a.positionx-160+"px",fontSize:a.fontSize+"px",fontWeight:a.fontWeight},value:n.find((function(e){return e.key===a.key})).value,onChange:function(t){e.handleInputChange(t,a.key)}},a.key)):t.complete.push(Object(D.jsx)("button",{onDragStart:function(t){return e.onDragStart(t,a.key,!0)},onClick:function(){e.handleClick(a.key)},draggable:!0,className:a.selected?"draggable selected":"draggable",style:{position:"absolute",top:a.positiony-50+"px",left:a.positionx-160+"px",fontSize:a.fontSize+"px",fontWeight:a.fontWeight},children:a.name},a.key))})),Object(D.jsxs)("div",{className:"drag-drop-page",onKeyDown:function(t){return e.handleDelete(t)},tabIndex:"0",children:[Object(D.jsxs)("div",{className:"container-drag",children:[Object(D.jsx)("div",{className:"droppable",onDragOver:function(t){return e.onDragOver(t)},onDrop:function(t){return e.showModal(t)},children:t.complete}),Object(D.jsxs)("div",{className:"wip",onDragOver:function(t){return e.onDragOver(t)},onDrop:function(t){e.onDrop(t,"wip")},children:[Object(D.jsx)("h2",{children:"Blocks"}),Object(D.jsxs)("div",{onDragStart:function(t){return e.onDragStart(t,"label")},draggable:!0,className:"draggable",children:[Object(D.jsx)(m.a,{style:{marginRight:8,color:"#D4D4D4"}}),"Label"]}),Object(D.jsxs)("div",{onDragStart:function(t){return e.onDragStart(t,"input")},draggable:!0,className:"draggable",children:[Object(D.jsx)(m.a,{style:{marginRight:8,color:"#D4D4D4"}}),"Input"]}),Object(D.jsxs)("div",{onDragStart:function(t){return e.onDragStart(t,"button")},draggable:!0,className:"draggable",children:[Object(D.jsx)(m.a,{style:{marginRight:8,color:"#D4D4D4"}}),"Button"]})]})]}),Object(D.jsx)(h.a,{title:"Edit Label",visible:this.state.modalVisible,onOk:this.handleOk,onCancel:this.handleCancel,children:Object(D.jsxs)(f.b,{direction:"vertical",style:{width:"100%"},children:["Text",Object(D.jsx)(b.a,{type:"text",placeholder:"Enter text to be displayed inside element",name:"modalName",value:r,onChange:this.handleChange}),"X",Object(D.jsx)(b.a,{type:"text",value:o+"px",disabled:!0}),"Y",Object(D.jsx)(b.a,{type:"text",value:i+"px",disabled:!0}),"Font Size",Object(D.jsx)(b.a,{type:"number",placeholder:"Enter font size (in px)",name:"modalFontSize",value:l,onChange:this.handleChange}),"Font Weight",Object(D.jsx)(b.a,{type:"number",placeholder:"Enter font weight",name:"modalFontWeight",value:s,onChange:this.handleChange})]})})]})}}]),a}(n.Component),O=Object(v.createStructuredSelector)({savedState:j}),k=Object(S.b)(O,(function(e){return{setCurrentSavedState:function(t){e(function(e){return{type:y.a.SET_CURRENT_SAVEDSTATE,payload:e}}(t))}}}))(x);var C=function(){return Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(k,{})})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,118)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),o(e),i(e),r(e)}))},E=a(83),N=a(57),F=(a(106).default,a(26)),w=F.createStore,z=F.applyMiddleware;var R=w(a(110).default,z.apply(void 0,[])),V=Object(N.b)(R);r.a.render(Object(D.jsx)(S.a,{store:R,children:Object(D.jsx)(o.a.StrictMode,{children:Object(D.jsx)(E.a,{persistor:V,children:Object(D.jsx)(C,{})})})}),document.getElementById("root")),T()},110:function(e,t,a){"use strict";a.r(t);var n=a(26),o=a(41),i=a(48),r={currentSavedState:null},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case i.a.SET_CURRENT_SAVEDSTATE:return Object(o.a)(Object(o.a)({},e),{},{currentSavedState:n});default:return e}},s=a(84),c=a.n(s),d=a(57),u=Object(n.combineReducers)({savedState:l}),p={key:"mini-page-builder-almabase",storage:c.a};t.default=Object(d.a)(p,u)},48:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={SET_CURRENT_SAVEDSTATE:"SET_CURRENT_SAVEDSTATE"}},94:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.34b384e0.chunk.js.map